{"version":3,"sources":["parseStatus.ts"],"sourcesContent":["// @ts-ignore\nimport { Version } from '../index.ts';\n\nexport interface StatusResult {\n  version: Version;\n  ok: boolean;\n  status: number;\n  statusText: string;\n}\n\n// https://github.com/watson/http-headers/blob/master/index.ts\nconst statusLine = /^[A-Z]+\\/(\\d)\\.(\\d) (\\d{3}) (.*)$/;\n\nexport default function parseStatus(result: StatusResult, line: string): boolean {\n  const match = line.match(statusLine);\n  if (!match) return false;\n\n  result.version = {\n    major: parseInt(match[1], 10),\n    minor: parseInt(match[2], 10),\n  };\n  result.status = parseInt(match[3], 10);\n  result.statusText = match[4];\n  result.ok = result.statusText === 'OK';\n  return true;\n}\n"],"names":["parseStatus","statusLine","result","line","match","version","major","parseInt","minor","status","statusText","ok"],"mappings":"AAAA,aAAa;AACb;;;;+BAYA,SAYC;;;eAZuBA,WAAW;;;AAHnC,8DAA8D;AAC9D,IAAMC,UAAU,sCAAsC,AAAC;AAExC,SAASD,WAAW,CAACE,MAAoB,EAAEC,IAAY,EAAW;IAC/E,IAAMC,KAAK,GAAGD,IAAI,CAACC,KAAK,CAACH,UAAU,CAAC,AAAC;IACrC,IAAI,CAACG,KAAK,EAAE,OAAO,KAAK,CAAC;IAEzBF,MAAM,CAACG,OAAO,GAAG;QACfC,KAAK,EAAEC,QAAQ,CAACH,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;QAC7BI,KAAK,EAAED,QAAQ,CAACH,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;KAC9B,CAAC;IACFF,MAAM,CAACO,MAAM,GAAGF,QAAQ,CAACH,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;IACvCF,MAAM,CAACQ,UAAU,GAAGN,KAAK,CAAC,CAAC,CAAC,CAAC;IAC7BF,MAAM,CAACS,EAAE,GAAGT,MAAM,CAACQ,UAAU,KAAK,IAAI,CAAC;IACvC,OAAO,IAAI,CAAC;CACb"}