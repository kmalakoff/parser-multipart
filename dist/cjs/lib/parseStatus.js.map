{"version":3,"sources":["parseStatus.ts"],"sourcesContent":["// @ts-ignore\nimport { Version } from '../index.ts';\n\nexport interface StatusResult {\n  version: Version;\n  ok: boolean;\n  status: number;\n  statusText: string;\n}\n\n// https://github.com/watson/http-headers/blob/master/index.ts\nconst statusLine = /^[A-Z]+\\/(\\d)\\.(\\d) (\\d{3}) (.*)$/;\n\nexport default function parseStatus(result: StatusResult, line: string): boolean {\n  const match = line.match(statusLine);\n  if (!match) return false;\n\n  result.version = {\n    major: parseInt(match[1], 10),\n    minor: parseInt(match[2], 10),\n  };\n  result.status = parseInt(match[3], 10);\n  result.statusText = match[4];\n  result.ok = result.statusText === 'OK';\n  return true;\n}\n"],"names":["parseStatus","result","line","match","statusLine","version","major","parseInt","minor","status","statusText","ok"],"mappings":"AACA;;;;kBAYwBA,WAAW;AAApB,SAASA,WAAW,CAACC,MAAoB,EAAEC,IAAY,EAAW;IAC/E,IAAMC,KAAK,GAAGD,IAAI,CAACC,KAAK,CAACC,UAAU,CAAC,AAAC;IACrC,IAAI,CAACD,KAAK,EAAE,OAAO,KAAK,CAAC;IAEzBF,MAAM,CAACI,OAAO,GAAG;QACfC,KAAK,EAAEC,QAAQ,CAACJ,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;QAC7BK,KAAK,EAAED,QAAQ,CAACJ,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;KAC9B,CAAC;IACFF,MAAM,CAACQ,MAAM,GAAGF,QAAQ,CAACJ,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;IACvCF,MAAM,CAACS,UAAU,GAAGP,KAAK,CAAC,CAAC,CAAC,CAAC;IAC7BF,MAAM,CAACU,EAAE,GAAGV,MAAM,CAACS,UAAU,KAAK,IAAI,CAAC;IACvC,OAAO,IAAI,CAAC;CACb;AAfD,8DAA8D;AAC9D,IAAMN,UAAU,sCAAsC,AAAC"}