{"version":3,"sources":["../../../src/lib/parseStatus.ts"],"names":["statusLine","parseStatus","result","line","match","version","major","parseInt","minor","status","statusText","ok"],"mappings":";;;;;;AASA;AACA,IAAMA,UAAU,GAAG,mCAAnB;;AAEe,SAASC,WAAT,CAAqBC,MAArB,EAA2CC,IAA3C,EAAkE;AAC/E,MAAMC,KAAK,GAAGD,IAAI,CAACC,KAAL,CAAWJ,UAAX,CAAd;AACA,MAAI,CAACI,KAAL,EAAY,OAAO,KAAP;AAEZF,EAAAA,MAAM,CAACG,OAAP,GAAiB;AAAEC,IAAAA,KAAK,EAAEC,QAAQ,CAACH,KAAK,CAAC,CAAD,CAAN,EAAW,EAAX,CAAjB;AAAiCI,IAAAA,KAAK,EAAED,QAAQ,CAACH,KAAK,CAAC,CAAD,CAAN,EAAW,EAAX;AAAhD,GAAjB;AACAF,EAAAA,MAAM,CAACO,MAAP,GAAgBF,QAAQ,CAACH,KAAK,CAAC,CAAD,CAAN,EAAW,EAAX,CAAxB;AACAF,EAAAA,MAAM,CAACQ,UAAP,GAAoBN,KAAK,CAAC,CAAD,CAAzB;AACAF,EAAAA,MAAM,CAACS,EAAP,GAAYT,MAAM,CAACQ,UAAP,KAAsB,IAAlC;AACA,SAAO,IAAP;AACD","sourcesContent":["import { Version } from \"../index\";\n\nexport interface StatusResult {\n  version: Version;\n  ok: boolean;\n  status: number;\n  statusText: string;\n}\n\n// https://github.com/watson/http-headers/blob/master/index.js\nconst statusLine = /^[A-Z]+\\/(\\d)\\.(\\d) (\\d{3}) (.*)$/;\n\nexport default function parseStatus(result: StatusResult, line: string): boolean {\n  const match = line.match(statusLine);\n  if (!match) return false;\n\n  result.version = { major: parseInt(match[1], 10), minor: parseInt(match[2], 10) };\n  result.status = parseInt(match[3], 10);\n  result.statusText = match[4];\n  result.ok = result.statusText === \"OK\";\n  return true;\n}\n"],"file":"parseStatus.js"}