{"version":3,"sources":["parseStatus.ts"],"sourcesContent":["// @ts-ignore\nimport { Version } from '../index.ts';\n\nexport interface StatusResult {\n  version: Version;\n  ok: boolean;\n  status: number;\n  statusText: string;\n}\n\n// https://github.com/watson/http-headers/blob/master/index.ts\nconst statusLine = /^[A-Z]+\\/(\\d)\\.(\\d) (\\d{3}) (.*)$/;\n\nexport default function parseStatus(result: StatusResult, line: string): boolean {\n  const match = line.match(statusLine);\n  if (!match) return false;\n\n  result.version = {\n    major: parseInt(match[1], 10),\n    minor: parseInt(match[2], 10),\n  };\n  result.status = parseInt(match[3], 10);\n  result.statusText = match[4];\n  result.ok = result.statusText === 'OK';\n  return true;\n}\n"],"names":["parseStatus","statusLine","result","line","match","version","major","parseInt","minor","status","statusText","ok"],"mappings":"AAAA,aAAa;;;;;+BAab;;;eAAwBA;;;AAHxB,8DAA8D;AAC9D,IAAMC,aAAa;AAEJ,SAASD,YAAYE,MAAoB,EAAEC,IAAY;IACpE,IAAMC,QAAQD,KAAKC,KAAK,CAACH;IACzB,IAAI,CAACG,OAAO,OAAO;IAEnBF,OAAOG,OAAO,GAAG;QACfC,OAAOC,SAASH,KAAK,CAAC,EAAE,EAAE;QAC1BI,OAAOD,SAASH,KAAK,CAAC,EAAE,EAAE;IAC5B;IACAF,OAAOO,MAAM,GAAGF,SAASH,KAAK,CAAC,EAAE,EAAE;IACnCF,OAAOQ,UAAU,GAAGN,KAAK,CAAC,EAAE;IAC5BF,OAAOS,EAAE,GAAGT,OAAOQ,UAAU,KAAK;IAClC,OAAO;AACT"}